/*! Berdimyradov 2016-11-04 */
!function(a){var b=a(window);b.on("load",function(){var c=a("header"),d=a("footer"),e=a(".current"),f=function(){a(".overlay-top").remove(),a(".overlay-bottom").remove(),b.height()>2*(c.height()+d.height())?(c.addClass("fixed"),d.addClass("fixed"),a("section:not(.products)").each(function(b,c){a(c).append(a("<div>").addClass("overlay-top")).append(a("<div>").addClass("overlay-bottom"))})):(c.removeClass("fixed"),d.removeClass("fixed"))},g=function(){var e=a("section:first"),f=a("section:last");a("section:not(:first)").css({"margin-top":-b.height(),"padding-top":b.height()}),a("section:not(:last)").css({"margin-bottom":-b.height(),"padding-bottom":b.height()}),e.css({"margin-top":-b.height(),"padding-top":b.height()+c.height()}),f.css({"padding-bottom":b.height()-f.height()>0?b.height()-f.height():""}),a(".overlay-top").height(c.height()),a(".overlay-bottom").height(d.height())},h=function(){for(var f,g=a("section"),h=g.size()-1;h>=0;h--)if(f=a(g[h]),f.offset().top<=b.scrollTop()){e.removeClass("current"),f.addClass("current"),e=f;break}e.hasClass("colored")?(c.addClass("on-colored"),d.addClass("on-colored")):(c.removeClass("on-colored"),d.removeClass("on-colored")),e.hasClass("dark")?(c.addClass("on-dark"),d.addClass("on-dark")):(c.removeClass("on-dark"),d.removeClass("on-dark"))};a(".figure-center").css("position","fixed"),a(".figure-left").css("position","fixed"),a(".figure-right").css("position","fixed"),a(".product").css({position:"fixed"}),f(),g(),h(),b.on("resize",function(){f(),g(),h()}),b.on("scroll",function(a){var c,d,f,g,i;h(),c=e.find(".figure-center"),d=e.find(".figure-left"),f=e.find(".figure-right"),g=1-(b.scrollTop()-e.offset().top)/e.height(),i=(b.scrollTop()-b.height()-e.offset().top)/e.height(),g>0&&(c.css({top:-c.height()*g}),d.css({left:-d.width()*g}),f.css({right:-f.width()*g})),i>0&&(c.css({top:c.height()*i}),d.css({left:-d.width()*i}),f.css({right:-f.width()*i})),(0===i||i<=0&&g<=0)&&(c.css({top:""}),d.css({left:""}),f.css({right:""}))})})}(jQuery);